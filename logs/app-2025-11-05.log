{"duration":56,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:46:10.548Z"}
{"level":"info","message":"GET /api/location-types 200 63.763 ms","timestamp":"2025-11-05T10:46:10.557Z"}
{"duration":89,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:46:10.583Z"}
{"level":"info","message":"GET /api/location-types 200 89.940 ms","timestamp":"2025-11-05T10:46:10.584Z"}
{"duration":6,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:53:31.103Z"}
{"level":"info","message":"GET /api/location-types 200 13.159 ms","timestamp":"2025-11-05T10:53:31.111Z"}
{"duration":60,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:53:31.159Z"}
{"level":"info","message":"GET /api/location-types 200 60.938 ms","timestamp":"2025-11-05T10:53:31.160Z"}
{"duration":5,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:56:40.489Z"}
{"level":"info","message":"GET /api/location-types 200 12.062 ms","timestamp":"2025-11-05T10:56:40.498Z"}
{"duration":57,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:56:40.542Z"}
{"level":"info","message":"GET /api/location-types 200 58.312 ms","timestamp":"2025-11-05T10:56:40.544Z"}
{"duration":14,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:57:08.769Z"}
{"level":"info","message":"GET /api/location-types 200 29.701 ms","timestamp":"2025-11-05T10:57:08.783Z"}
{"duration":75,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:57:08.834Z"}
{"level":"info","message":"GET /api/location-types 200 76.576 ms","timestamp":"2025-11-05T10:57:08.835Z"}
{"duration":11,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:57:14.657Z"}
{"level":"info","message":"GET /api/location-types 200 20.648 ms","timestamp":"2025-11-05T10:57:14.666Z"}
{"duration":65,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:57:14.716Z"}
{"level":"info","message":"GET /api/location-types 200 66.806 ms","timestamp":"2025-11-05T10:57:14.717Z"}
{"duration":14,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:57:16.782Z"}
{"level":"info","message":"GET /api/location-types 200 28.902 ms","timestamp":"2025-11-05T10:57:16.794Z"}
{"duration":72,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:57:16.843Z"}
{"level":"info","message":"GET /api/location-types 200 73.541 ms","timestamp":"2025-11-05T10:57:16.845Z"}
{"duration":69,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.id = $1\n    GROUP BY c.id\n  ","timestamp":"2025-11-05T10:58:13.171Z"}
{"level":"info","message":"GET /api/customers/getbyid/27 200 71.359 ms","timestamp":"2025-11-05T10:58:13.173Z"}
{"duration":79,"level":"info","message":"db-query","rows":2,"text":"DELETE FROM customer_restricted_drivers WHERE customer_id = $1","timestamp":"2025-11-05T10:58:48.206Z"}
{"duration":2,"level":"info","message":"db-query","rows":1,"text":"DELETE FROM customers WHERE id = $1","timestamp":"2025-11-05T10:58:48.210Z"}
{"level":"info","message":"DELETE /api/customers/delete/27 200 98.672 ms","timestamp":"2025-11-05T10:58:48.211Z"}
{"duration":58,"level":"info","message":"db-query","rows":0,"text":"DELETE FROM customer_restricted_drivers WHERE customer_id = $1","timestamp":"2025-11-05T10:59:11.560Z"}
{"duration":3,"level":"info","message":"db-query","rows":0,"text":"DELETE FROM customers WHERE id = $1","timestamp":"2025-11-05T10:59:11.563Z"}
{"level":"info","message":"DELETE /api/customers/delete/27 404 61.882 ms","timestamp":"2025-11-05T10:59:11.565Z"}
{"duration":1,"level":"info","message":"db-query","rows":1,"text":"DELETE FROM customer_restricted_drivers WHERE customer_id = $1","timestamp":"2025-11-05T10:59:19.288Z"}
{"duration":2,"level":"info","message":"db-query","rows":1,"text":"DELETE FROM customers WHERE id = $1","timestamp":"2025-11-05T10:59:19.292Z"}
{"level":"info","message":"DELETE /api/customers/delete/26 200 17.186 ms","timestamp":"2025-11-05T10:59:19.295Z"}
{"duration":10,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:59:30.718Z"}
{"level":"info","message":"GET /api/location-types 200 21.667 ms","timestamp":"2025-11-05T10:59:30.731Z"}
{"duration":78,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:59:30.789Z"}
{"level":"info","message":"GET /api/location-types 200 79.547 ms","timestamp":"2025-11-05T10:59:30.791Z"}
{"duration":5,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:59:34.012Z"}
{"level":"info","message":"GET /api/location-types 200 11.504 ms","timestamp":"2025-11-05T10:59:34.019Z"}
{"duration":58,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:59:34.067Z"}
{"level":"info","message":"GET /api/location-types 200 59.978 ms","timestamp":"2025-11-05T10:59:34.069Z"}
{"duration":11,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:59:46.026Z"}
{"level":"info","message":"GET /api/location-types 200 27.360 ms","timestamp":"2025-11-05T10:59:46.040Z"}
{"duration":81,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T10:59:46.100Z"}
{"level":"info","message":"GET /api/location-types 200 82.588 ms","timestamp":"2025-11-05T10:59:46.102Z"}
{"duration":59,"level":"info","message":"db-query","rows":2,"text":"\n    SELECT \n      f.*,\n      vt.name AS vehicle_type_name,\n      vt.minimum_fares AS vehicle_minimum_fare,\n      a.name AS account_name\n    FROM fare_configurations f\n    LEFT JOIN vehicle_types vt ON vt.id = f.vehicle_type_id\n    LEFT JOIN accounts a ON a.id = f.account_id\n  ","timestamp":"2025-11-05T11:04:06.057Z"}
{"level":"info","message":"GET /api/faresconfiguration/get 200 61.359 ms","timestamp":"2025-11-05T11:04:06.059Z"}
{"duration":6,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:06:59.781Z"}
{"level":"info","message":"GET /api/location-types 200 17.542 ms","timestamp":"2025-11-05T11:06:59.792Z"}
{"duration":1,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:06:59.811Z"}
{"level":"info","message":"GET /api/location-types 200 8.267 ms","timestamp":"2025-11-05T11:06:59.818Z"}
{"duration":7,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:07:01.788Z"}
{"level":"info","message":"GET /api/location-types 200 14.296 ms","timestamp":"2025-11-05T11:07:01.794Z"}
{"duration":72,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:07:01.857Z"}
{"level":"info","message":"GET /api/location-types 200 73.161 ms","timestamp":"2025-11-05T11:07:01.858Z"}
{"duration":67,"level":"info","message":"db-query","rows":2,"text":"\n    SELECT \n      f.*, \n      vt.name AS vehicle_type_name, \n      vt.minimum_fares AS vehicle_minimum_fare,\n      a.name AS account_name\n    FROM fare_configurations f\n    LEFT JOIN vehicle_types vt ON vt.id = f.vehicle_type_id\n    LEFT JOIN accounts a ON a.id = f.account_id\n  ","timestamp":"2025-11-05T11:07:39.774Z"}
{"level":"info","message":"GET /api/faresconfiguration/get 200 68.974 ms","timestamp":"2025-11-05T11:07:39.776Z"}
{"duration":68,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT \n      f.*, \n      vt.name AS vehicle_type_name, \n      vt.minimum_fares AS vehicle_minimum_fare,\n      a.name AS account_name\n    FROM fare_configurations f\n    LEFT JOIN vehicle_types vt ON vt.id = f.vehicle_type_id\n    LEFT JOIN accounts a ON a.id = f.account_id\n   WHERE LOWER(f.title) = LOWER($1)","timestamp":"2025-11-05T11:07:55.474Z"}
{"level":"info","message":"GET /api/faresconfiguration/get?title=NORMAL 200 69.487 ms","timestamp":"2025-11-05T11:07:55.476Z"}
{"duration":1,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT \n      f.*, \n      vt.name AS vehicle_type_name, \n      vt.minimum_fares AS vehicle_minimum_fare,\n      a.name AS account_name\n    FROM fare_configurations f\n    LEFT JOIN vehicle_types vt ON vt.id = f.vehicle_type_id\n    LEFT JOIN accounts a ON a.id = f.account_id\n   WHERE LOWER(f.title) <> LOWER($1)","timestamp":"2025-11-05T11:08:01.072Z"}
{"level":"info","message":"GET /api/faresconfiguration/get?title=special 200 2.793 ms","timestamp":"2025-11-05T11:08:01.074Z"}
{"duration":78,"level":"info","message":"db-query","rows":1,"text":"\n    INSERT INTO fare_configurations (\n      vehicle_type_id,\n      account_id,\n      from_day,\n      to_day,\n      from_time,\n      to_time,\n      minimum_fares,\n      minimum_miles,\n      from_date,\n      to_date,\n      title\n    ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n    RETURNING *;\n  ","timestamp":"2025-11-05T11:08:36.973Z"}
{"level":"info","message":"POST /api/faresconfiguration/add 200 86.649 ms","timestamp":"2025-11-05T11:08:36.974Z"}
{"duration":14,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T11:08:41.781Z"}
{"duration":4,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T11:08:41.786Z"}
{"level":"info","message":"GET /api/zones/get 200 23.216 ms","timestamp":"2025-11-05T11:08:41.789Z"}
{"duration":2,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T11:08:41.793Z"}
{"duration":4,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T11:08:41.797Z"}
{"level":"info","message":"GET /api/zones/get 200 12.835 ms","timestamp":"2025-11-05T11:08:41.805Z"}
{"duration":81,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:08:41.865Z"}
{"level":"info","message":"GET /api/location-types 200 82.222 ms","timestamp":"2025-11-05T11:08:41.867Z"}
{"level":"info","message":"GET /api/locationtype/zone 200 98.777 ms","timestamp":"2025-11-05T11:08:41.869Z"}
{"duration":7,"level":"info","message":"db-query","rows":2,"text":"\n    SELECT \n      f.*, \n      vt.name AS vehicle_type_name, \n      vt.minimum_fares AS vehicle_minimum_fare,\n      a.name AS account_name\n    FROM fare_configurations f\n    LEFT JOIN vehicle_types vt ON vt.id = f.vehicle_type_id\n    LEFT JOIN accounts a ON a.id = f.account_id\n   WHERE LOWER(f.title) <> LOWER($1)","timestamp":"2025-11-05T11:08:47.253Z"}
{"level":"info","message":"GET /api/faresconfiguration/get?title=special 200 7.721 ms","timestamp":"2025-11-05T11:08:47.254Z"}
{"duration":60,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT \n      f.*, \n      vt.name AS vehicle_type_name, \n      vt.minimum_fares AS vehicle_minimum_fare,\n      a.name AS account_name\n    FROM fare_configurations f\n    LEFT JOIN vehicle_types vt ON vt.id = f.vehicle_type_id\n    LEFT JOIN accounts a ON a.id = f.account_id\n    WHERE f.id = $1\n    ","timestamp":"2025-11-05T11:10:38.287Z"}
{"level":"info","message":"GET /api/faresconfiguration/getbyid/11 200 61.740 ms","timestamp":"2025-11-05T11:10:38.288Z"}
{"level":"info","message":"POST /api/faresconfiguration/edit/11 500 67.332 ms","timestamp":"2025-11-05T11:12:28.292Z"}
{"level":"info","message":"POST /api/faresconfiguration/edit/11 500 57.535 ms","timestamp":"2025-11-05T11:15:02.379Z"}
{"duration":13,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:15:22.683Z"}
{"level":"info","message":"GET /api/location-types 200 24.878 ms","timestamp":"2025-11-05T11:15:22.693Z"}
{"duration":70,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:15:22.743Z"}
{"level":"info","message":"GET /api/location-types 200 71.462 ms","timestamp":"2025-11-05T11:15:22.745Z"}
{"duration":162,"level":"info","message":"db-query","rows":1,"text":"\n    UPDATE fare_configurations \n    SET vehicle_type_id = $1,\n        account_id = $2,\n        from_day = $3,\n        to_day = $4,\n        from_time = $5,\n        to_time = $6,\n        minimum_fares = $7,\n        minimum_miles = $8,\n        from_date = $9,\n        to_date = $10,\n        title = $11\n    WHERE id = $12\n    ","timestamp":"2025-11-05T11:15:36.733Z"}
{"duration":2,"level":"info","message":"db-query","rows":1,"text":"SELECT * FROM fare_configurations WHERE id = $1","timestamp":"2025-11-05T11:15:36.736Z"}
{"level":"info","message":"POST /api/faresconfiguration/edit/11 200 171.372 ms","timestamp":"2025-11-05T11:15:36.737Z"}
{"duration":55,"level":"info","message":"db-query","rows":1,"text":"\n    UPDATE fare_configurations \n    SET vehicle_type_id = $1,\n        account_id = $2,\n        from_day = $3,\n        to_day = $4,\n        from_time = $5,\n        to_time = $6,\n        minimum_fares = $7,\n        minimum_miles = $8,\n        from_date = $9,\n        to_date = $10,\n        title = $11\n    WHERE id = $12\n    ","timestamp":"2025-11-05T11:16:41.346Z"}
{"duration":1,"level":"info","message":"db-query","rows":1,"text":"SELECT * FROM fare_configurations WHERE id = $1","timestamp":"2025-11-05T11:16:41.348Z"}
{"level":"info","message":"POST /api/faresconfiguration/edit/11 200 60.734 ms","timestamp":"2025-11-05T11:16:41.350Z"}
{"duration":10,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:17:24.888Z"}
{"level":"info","message":"GET /api/location-types 200 19.109 ms","timestamp":"2025-11-05T11:17:24.896Z"}
{"duration":59,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:17:24.940Z"}
{"level":"info","message":"GET /api/location-types 200 60.342 ms","timestamp":"2025-11-05T11:17:24.941Z"}
{"duration":5,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:17:28.554Z"}
{"level":"info","message":"GET /api/location-types 200 12.169 ms","timestamp":"2025-11-05T11:17:28.561Z"}
{"duration":60,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:17:28.611Z"}
{"level":"info","message":"GET /api/location-types 200 61.415 ms","timestamp":"2025-11-05T11:17:28.613Z"}
{"duration":61,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT \n      f.*, \n      vt.name AS vehicle_type_name, \n      vt.minimum_fares AS vehicle_minimum_fare,\n      a.name AS account_name\n    FROM fare_configurations f\n    LEFT JOIN vehicle_types vt ON vt.id = f.vehicle_type_id\n    LEFT JOIN accounts a ON a.id = f.account_id\n    WHERE f.id = $1\n    ","timestamp":"2025-11-05T11:18:36.862Z"}
{"level":"info","message":"GET /api/faresconfiguration/getbyid/11 200 64.088 ms","timestamp":"2025-11-05T11:18:36.864Z"}
{"duration":57,"level":"info","message":"db-query","rows":1,"text":"\n    UPDATE fare_configurations\n    SET vehicle_type_id = $1, account_id = $2, from_day = $3, to_day = $4, minimum_miles = $5, title = $6\n    WHERE id = $7\n    RETURNING *;\n  ","timestamp":"2025-11-05T11:18:47.098Z"}
{"level":"info","message":"POST /api/faresconfiguration/edit/11 200 63.409 ms","timestamp":"2025-11-05T11:18:47.100Z"}
{"duration":59,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT \n      f.*, \n      vt.name AS vehicle_type_name, \n      vt.minimum_fares AS vehicle_minimum_fare,\n      a.name AS account_name\n    FROM fare_configurations f\n    LEFT JOIN vehicle_types vt ON vt.id = f.vehicle_type_id\n    LEFT JOIN accounts a ON a.id = f.account_id\n    WHERE f.id = $1\n    ","timestamp":"2025-11-05T11:19:08.835Z"}
{"level":"info","message":"GET /api/faresconfiguration/getbyid/11 200 60.986 ms","timestamp":"2025-11-05T11:19:08.837Z"}
{"duration":55,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM vehicle_types vt\n    ;\n  ","timestamp":"2025-11-05T11:22:02.665Z"}
{"duration":3,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT vt.*\n    FROM vehicle_types vt\n    \n    ORDER BY vt.id ASC\n    OFFSET $1 LIMIT $2;\n  ","timestamp":"2025-11-05T11:22:02.670Z"}
{"level":"info","message":"GET /api/vehicle-type/get 200 60.454 ms","timestamp":"2025-11-05T11:22:02.671Z"}
{"duration":72,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(DISTINCT a.id) AS total\n    FROM accounts a\n    LEFT JOIN subsidiaries s ON a.subsidiary_id = s.id\n    ;\n  ","timestamp":"2025-11-05T11:22:02.684Z"}
{"duration":9,"level":"info","message":"db-query","rows":21,"text":"\n    SELECT\n      a.*,\n      json_agg(DISTINCT jsonb_build_object('id', d.id, 'name', d.name)) AS departments,\n      jsonb_build_object(\n        'id', s.id,\n        'name', s.name,\n        'telephone_number', s.telephone_number,\n        'email', s.email\n      ) AS subsidiary\n    FROM accounts a\n    LEFT JOIN departments d ON a.id = d.account_id\n    LEFT JOIN subsidiaries s ON a.subsidiary_id = s.id\n    \n    GROUP BY a.id, s.id\n    ORDER BY a.id ASC\n    OFFSET $1 LIMIT $2;\n  ","timestamp":"2025-11-05T11:22:02.694Z"}
{"level":"info","message":"GET /api/accounts/get 200 84.142 ms","timestamp":"2025-11-05T11:22:02.696Z"}
{"level":"info","message":"GET /api/combined/vehicle-type-accounts 200 93.645 ms","timestamp":"2025-11-05T11:22:02.699Z"}
{"duration":84,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T11:25:36.880Z"}
{"duration":1,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T11:25:36.881Z"}
{"level":"info","message":"GET /api/zones/get 200 88.880 ms","timestamp":"2025-11-05T11:25:36.883Z"}
{"duration":84,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:25:36.892Z"}
{"level":"info","message":"GET /api/location-types 200 84.751 ms","timestamp":"2025-11-05T11:25:36.893Z"}
{"duration":82,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T11:25:36.894Z"}
{"duration":2,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T11:25:36.897Z"}
{"level":"info","message":"GET /api/zones/get 200 86.400 ms","timestamp":"2025-11-05T11:25:36.898Z"}
{"level":"info","message":"GET /api/locationtype/zone 200 102.888 ms","timestamp":"2025-11-05T11:25:36.901Z"}
{"duration":3,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T11:25:42.699Z"}
{"duration":4,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T11:25:42.700Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 200 6.218 ms","timestamp":"2025-11-05T11:25:42.702Z"}
{"duration":2,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T11:25:47.247Z"}
{"duration":3,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T11:25:47.248Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=true&limit=20&name=&mobile=&telephone=&email=&address1= 200 4.066 ms","timestamp":"2025-11-05T11:25:47.250Z"}
{"duration":1,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T11:25:47.954Z"}
{"duration":2,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T11:25:47.956Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 304 4.186 ms","timestamp":"2025-11-05T11:25:47.957Z"}
{"duration":5,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:26:33.225Z"}
{"level":"info","message":"GET /api/location-types 200 11.548 ms","timestamp":"2025-11-05T11:26:33.233Z"}
{"duration":68,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:26:33.290Z"}
{"level":"info","message":"GET /api/location-types 200 69.550 ms","timestamp":"2025-11-05T11:26:33.292Z"}
{"duration":5,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:26:45.842Z"}
{"level":"info","message":"GET /api/location-types 200 11.197 ms","timestamp":"2025-11-05T11:26:45.849Z"}
{"duration":58,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:26:45.897Z"}
{"level":"info","message":"GET /api/location-types 200 59.743 ms","timestamp":"2025-11-05T11:26:45.899Z"}
{"duration":64,"level":"info","message":"db-query","rows":0,"text":"\n    UPDATE customers\n    SET sms_flag = $1, name = $2, mobile = $3, email = $4, fax = $5\n    WHERE id = $6\n  ","timestamp":"2025-11-05T11:27:25.437Z"}
{"duration":2,"level":"info","message":"db-query","rows":0,"text":"DELETE FROM customer_restricted_drivers WHERE customer_id = $1","timestamp":"2025-11-05T11:27:25.440Z"}
{"duration":56,"level":"info","message":"db-query","rows":0,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.id = $1\n    GROUP BY c.id\n  ","timestamp":"2025-11-05T11:27:25.572Z"}
{"duration":1,"level":"info","message":"db-query","rows":0,"text":"SELECT driver_id AS id, driver_username AS username, driver_name AS name\n     FROM customer_restricted_drivers\n     WHERE customer_id = $1","timestamp":"2025-11-05T11:27:25.573Z"}
{"level":"info","message":"POST /api/customers/edit/27 500 205.480 ms","timestamp":"2025-11-05T11:27:25.575Z"}
{"duration":64,"level":"info","message":"db-query","rows":1,"text":"\n      INSERT INTO customers (\n        name, email, mobile, telephone, fax, door_number, address1, address2,\n        blacklist, blacklist_reason, notes, username, password, web_device_id,\n        mobile_device_id, email_verification_code, mobile_verification_code,\n        email_verified, mobile_verified, email_verified_at, mobile_verified_at, sms_flag\n      )\n      VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22)\n      RETURNING id\n    ","timestamp":"2025-11-05T11:27:53.344Z"}
{"level":"info","message":"POST /api/customers/add 200 70.817 ms","timestamp":"2025-11-05T11:27:53.349Z"}
{"duration":12,"level":"info","message":"db-query","rows":5,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T11:28:01.612Z"}
{"duration":87,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T11:28:01.687Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 200 90.624 ms","timestamp":"2025-11-05T11:28:01.689Z"}
{"duration":58,"level":"info","message":"db-query","rows":1,"text":"DELETE FROM fare_configurations WHERE id = $1","timestamp":"2025-11-05T11:28:12.435Z"}
{"level":"info","message":"DELETE /api/faresconfiguration/delete/11 500 60.743 ms","timestamp":"2025-11-05T11:28:12.438Z"}
{"duration":9,"level":"info","message":"db-query","rows":5,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T11:28:18.641Z"}
{"duration":71,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T11:28:18.703Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 304 72.254 ms","timestamp":"2025-11-05T11:28:18.704Z"}
{"duration":9,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:29:43.487Z"}
{"level":"info","message":"GET /api/location-types 200 18.961 ms","timestamp":"2025-11-05T11:29:43.497Z"}
{"duration":76,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:29:43.558Z"}
{"level":"info","message":"GET /api/location-types 200 77.452 ms","timestamp":"2025-11-05T11:29:43.559Z"}
{"duration":13,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:29:51.634Z"}
{"level":"info","message":"GET /api/location-types 200 34.931 ms","timestamp":"2025-11-05T11:29:51.654Z"}
{"duration":73,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:29:51.698Z"}
{"level":"info","message":"GET /api/location-types 200 75.119 ms","timestamp":"2025-11-05T11:29:51.700Z"}
{"duration":2,"level":"info","message":"db-query","rows":0,"text":"DELETE FROM fare_configurations WHERE id = $1","timestamp":"2025-11-05T11:29:57.409Z"}
{"level":"info","message":"DELETE /api/faresconfiguration/delete/11 200 4.407 ms","timestamp":"2025-11-05T11:29:57.410Z"}
{"duration":8,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:30:24.321Z"}
{"level":"info","message":"GET /api/location-types 200 14.492 ms","timestamp":"2025-11-05T11:30:24.328Z"}
{"duration":70,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:30:24.385Z"}
{"level":"info","message":"GET /api/location-types 200 71.318 ms","timestamp":"2025-11-05T11:30:24.387Z"}
{"duration":5,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:30:31.810Z"}
{"level":"info","message":"GET /api/location-types 200 15.821 ms","timestamp":"2025-11-05T11:30:31.821Z"}
{"duration":85,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:30:31.893Z"}
{"level":"info","message":"GET /api/location-types 200 86.993 ms","timestamp":"2025-11-05T11:30:31.894Z"}
{"duration":5,"level":"info","message":"db-query","rows":1,"text":"DELETE FROM fare_configurations WHERE id = $1","timestamp":"2025-11-05T11:30:35.597Z"}
{"level":"info","message":"DELETE /api/faresconfiguration/delete/10 200 6.847 ms","timestamp":"2025-11-05T11:30:35.598Z"}
{"duration":1,"level":"info","message":"db-query","rows":0,"text":"DELETE FROM fare_configurations WHERE id = $1","timestamp":"2025-11-05T11:30:37.815Z"}
{"level":"info","message":"DELETE /api/faresconfiguration/delete/10 200 2.470 ms","timestamp":"2025-11-05T11:30:37.817Z"}
{"duration":8,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:31:30.933Z"}
{"level":"info","message":"GET /api/location-types 200 18.254 ms","timestamp":"2025-11-05T11:31:30.943Z"}
{"duration":67,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:31:30.994Z"}
{"level":"info","message":"GET /api/location-types 200 68.134 ms","timestamp":"2025-11-05T11:31:30.995Z"}
{"duration":14,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:32:02.861Z"}
{"level":"info","message":"GET /api/location-types 200 31.778 ms","timestamp":"2025-11-05T11:32:02.876Z"}
{"duration":222,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:32:03.074Z"}
{"level":"info","message":"GET /api/location-types 200 223.401 ms","timestamp":"2025-11-05T11:32:03.076Z"}
{"duration":5,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:32:05.092Z"}
{"level":"info","message":"GET /api/location-types 200 12.271 ms","timestamp":"2025-11-05T11:32:05.100Z"}
{"duration":61,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:32:05.149Z"}
{"level":"info","message":"GET /api/location-types 200 62.386 ms","timestamp":"2025-11-05T11:32:05.151Z"}
{"duration":2,"level":"info","message":"db-query","rows":0,"text":"DELETE FROM fare_configurations WHERE id = $1","timestamp":"2025-11-05T11:32:07.440Z"}
{"level":"info","message":"DELETE /api/faresconfiguration/delete/10 404 4.572 ms","timestamp":"2025-11-05T11:32:07.442Z"}
{"duration":2,"level":"info","message":"db-query","rows":0,"text":"DELETE FROM customer_restricted_drivers WHERE customer_id = $1","timestamp":"2025-11-05T11:32:14.559Z"}
{"duration":2,"level":"info","message":"db-query","rows":0,"text":"DELETE FROM customers WHERE id = $1","timestamp":"2025-11-05T11:32:14.562Z"}
{"level":"info","message":"DELETE /api/customers/delete/26 404 6.963 ms","timestamp":"2025-11-05T11:32:14.563Z"}
{"duration":7,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:32:22.081Z"}
{"level":"info","message":"GET /api/location-types 200 16.396 ms","timestamp":"2025-11-05T11:32:22.090Z"}
{"duration":74,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:32:22.151Z"}
{"level":"info","message":"GET /api/location-types 200 75.921 ms","timestamp":"2025-11-05T11:32:22.153Z"}
{"duration":11,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:33:17.484Z"}
{"level":"info","message":"GET /api/location-types 200 24.489 ms","timestamp":"2025-11-05T11:33:17.499Z"}
{"duration":74,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:33:17.551Z"}
{"level":"info","message":"GET /api/location-types 200 75.687 ms","timestamp":"2025-11-05T11:33:17.553Z"}
{"duration":8,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:34:17.837Z"}
{"level":"info","message":"GET /api/location-types 200 20.380 ms","timestamp":"2025-11-05T11:34:17.851Z"}
{"duration":126,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T11:34:17.958Z"}
{"level":"info","message":"GET /api/location-types 200 127.287 ms","timestamp":"2025-11-05T11:34:17.959Z"}
{"duration":48,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T11:44:30.195Z"}
{"duration":3,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T11:44:30.198Z"}
{"level":"info","message":"GET /api/zones/get 304 53.265 ms","timestamp":"2025-11-05T11:44:30.200Z"}
{"duration":85,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T11:44:44.521Z"}
{"duration":1,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T11:44:44.523Z"}
{"level":"info","message":"GET /api/zones/get 304 89.924 ms","timestamp":"2025-11-05T11:44:44.525Z"}
{"duration":81,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T12:22:53.602Z"}
{"duration":1,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T12:22:53.604Z"}
{"level":"info","message":"GET /api/zones/get 304 85.215 ms","timestamp":"2025-11-05T12:22:53.605Z"}
{"duration":74,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T12:22:53.609Z"}
{"level":"info","message":"GET /api/location-types 200 75.745 ms","timestamp":"2025-11-05T12:22:53.610Z"}
{"duration":80,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T12:22:53.616Z"}
{"duration":1,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T12:22:53.618Z"}
{"level":"info","message":"GET /api/zones/get 200 83.050 ms","timestamp":"2025-11-05T12:22:53.620Z"}
{"level":"info","message":"GET /api/locationtype/zone 304 99.244 ms","timestamp":"2025-11-05T12:22:53.621Z"}
{"duration":74,"level":"info","message":"db-query","rows":5,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T12:25:37.903Z"}
{"duration":78,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T12:25:37.908Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 304 81.760 ms","timestamp":"2025-11-05T12:25:37.909Z"}
{"duration":89,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T12:26:14.374Z"}
{"duration":1,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T12:26:14.376Z"}
{"level":"info","message":"GET /api/zones/get 304 91.905 ms","timestamp":"2025-11-05T12:26:14.377Z"}
{"duration":82,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T12:26:14.381Z"}
{"level":"info","message":"GET /api/location-types 200 82.882 ms","timestamp":"2025-11-05T12:26:14.382Z"}
{"duration":85,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T12:26:14.386Z"}
{"duration":1,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T12:26:14.388Z"}
{"level":"info","message":"GET /api/zones/get 200 88.421 ms","timestamp":"2025-11-05T12:26:14.389Z"}
{"level":"info","message":"GET /api/locationtype/zone 304 102.819 ms","timestamp":"2025-11-05T12:26:14.391Z"}
{"duration":74,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T12:26:53.398Z"}
{"duration":77,"level":"info","message":"db-query","rows":5,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T12:26:53.401Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 304 79.393 ms","timestamp":"2025-11-05T12:26:53.403Z"}
{"duration":70,"level":"info","message":"db-query","rows":1,"text":"\n      INSERT INTO customers (\n        name, email, mobile, telephone, fax, door_number, address1, address2,\n        blacklist, blacklist_reason, notes, username, password, web_device_id,\n        mobile_device_id, email_verification_code, mobile_verification_code,\n        email_verified, mobile_verified, email_verified_at, mobile_verified_at, sms_flag\n      )\n      VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22)\n      RETURNING id\n    ","timestamp":"2025-11-05T12:27:03.601Z"}
{"level":"info","message":"POST /api/customers/add 200 75.551 ms","timestamp":"2025-11-05T12:27:03.604Z"}
{"duration":5,"level":"info","message":"db-query","rows":6,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T12:27:13.285Z"}
{"duration":61,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T12:27:13.341Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 200 61.423 ms","timestamp":"2025-11-05T12:27:13.342Z"}
{"duration":76,"level":"info","message":"db-query","rows":1,"text":"\n      INSERT INTO customers (\n        name, email, mobile, telephone, fax, door_number, address1, address2,\n        blacklist, blacklist_reason, notes, username, password, web_device_id,\n        mobile_device_id, email_verification_code, mobile_verification_code,\n        email_verified, mobile_verified, email_verified_at, mobile_verified_at, sms_flag\n      )\n      VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22)\n      RETURNING id\n    ","timestamp":"2025-11-05T12:27:27.152Z"}
{"level":"info","message":"POST /api/customers/add 200 80.084 ms","timestamp":"2025-11-05T12:27:27.155Z"}
{"duration":6,"level":"info","message":"db-query","rows":7,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T12:27:31.946Z"}
{"duration":62,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T12:27:32.002Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 200 62.768 ms","timestamp":"2025-11-05T12:27:32.003Z"}
{"duration":86,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T12:34:17.327Z"}
{"level":"info","message":"GET /api/location-types 200 86.845 ms","timestamp":"2025-11-05T12:34:17.328Z"}
{"duration":82,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T13:30:09.916Z"}
{"duration":2,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T13:30:09.918Z"}
{"level":"info","message":"GET /api/zones/get 304 84.289 ms","timestamp":"2025-11-05T13:30:09.919Z"}
{"duration":78,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T13:30:09.927Z"}
{"level":"info","message":"GET /api/location-types 200 78.233 ms","timestamp":"2025-11-05T13:30:09.928Z"}
{"duration":78,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T13:30:09.928Z"}
{"duration":2,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T13:30:09.931Z"}
{"level":"info","message":"GET /api/zones/get 200 81.353 ms","timestamp":"2025-11-05T13:30:09.932Z"}
{"level":"info","message":"GET /api/locationtype/zone 304 101.630 ms","timestamp":"2025-11-05T13:30:09.938Z"}
{"duration":81,"level":"info","message":"db-query","rows":7,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T13:31:03.332Z"}
{"duration":85,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T13:31:03.337Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 304 87.374 ms","timestamp":"2025-11-05T13:31:03.339Z"}
{"duration":85,"level":"info","message":"db-query","rows":1,"text":"\n      INSERT INTO customers (\n        name, email, mobile, telephone, fax, door_number, address1, address2,\n        blacklist, blacklist_reason, notes, username, password, web_device_id,\n        mobile_device_id, email_verification_code, mobile_verification_code,\n        email_verified, mobile_verified, email_verified_at, mobile_verified_at, sms_flag\n      )\n      VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22)\n      RETURNING id\n    ","timestamp":"2025-11-05T13:31:13.560Z"}
{"level":"info","message":"POST /api/customers/add 200 89.601 ms","timestamp":"2025-11-05T13:31:13.563Z"}
{"duration":52,"level":"info","message":"db-query","rows":8,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T13:31:37.935Z"}
{"duration":55,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T13:31:37.938Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 200 55.897 ms","timestamp":"2025-11-05T13:31:37.939Z"}
{"duration":17,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM locations l\n    LEFT JOIN location_types lt ON l.location_type_id = lt.id\n    LEFT JOIN zones z ON l.zone_id = z.id\n    ;\n  ","timestamp":"2025-11-05T13:31:46.616Z"}
{"duration":6,"level":"info","message":"db-query","rows":2,"text":"\n    SELECT \n      l.*, \n      jsonb_build_object(\n        'id', lt.id,\n        'name', lt.name,\n        'shortcut', lt.shortcut,\n        'background_color', lt.background_color,\n        'foreground_color', lt.foreground_color\n      ) AS location_type,\n      CASE WHEN z.id IS NOT NULL THEN\n        jsonb_build_object(\n          'id', z.id,\n          'name', z.name,\n          'secondary_name', z.secondary_name,\n          'type', z.type,\n          'category', z.category,\n          'vertices', z.vertices,\n          'base', z.base,\n          'overlay', z.overlay\n        )\n      ELSE NULL END AS zone\n    FROM locations l\n    LEFT JOIN location_types lt ON l.location_type_id = lt.id\n    LEFT JOIN zones z ON l.zone_id = z.id\n    \n    ORDER BY l.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T13:31:46.623Z"}
{"level":"info","message":"GET /api/locations/get?&page=1&limit=20&name=&postcode=&shortcut=&address=&location_type=&zone= 200 27.801 ms","timestamp":"2025-11-05T13:31:46.625Z"}
{"duration":4,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T13:31:49.307Z"}
{"level":"info","message":"GET /api/location-types 200 5.154 ms","timestamp":"2025-11-05T13:31:49.309Z"}
{"duration":85,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-11-05T13:31:49.389Z"}
{"duration":1,"level":"info","message":"db-query","rows":4,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-11-05T13:31:49.391Z"}
{"level":"info","message":"GET /api/zones/get 200 87.774 ms","timestamp":"2025-11-05T13:31:49.392Z"}
{"level":"info","message":"GET /api/locationtype/zone 304 98.667 ms","timestamp":"2025-11-05T13:31:49.394Z"}
{"duration":8,"level":"info","message":"db-query","rows":1,"text":"UPDATE locations SET name = $1, location_type_id = $2, address = $3, postcode = $4, zone_id = $5, shortcut = $6, extra_charges = $7, blacklist = $8, latitude = $9, longitude = $10 WHERE id = $11 RETURNING *","timestamp":"2025-11-05T13:31:55.004Z"}
{"level":"info","message":"POST /api/locations/2819 200 10.952 ms","timestamp":"2025-11-05T13:31:55.007Z"}
{"duration":73,"level":"info","message":"db-query","rows":8,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T13:32:40.492Z"}
{"duration":77,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T13:32:40.496Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 304 77.486 ms","timestamp":"2025-11-05T13:32:40.497Z"}
{"duration":7,"level":"info","message":"db-query","rows":1,"text":"\n      INSERT INTO customers (\n        name, email, mobile, telephone, fax, door_number, address1, address2,\n        blacklist, blacklist_reason, notes, username, password, web_device_id,\n        mobile_device_id, email_verification_code, mobile_verification_code,\n        email_verified, mobile_verified, email_verified_at, mobile_verified_at, sms_flag\n      )\n      VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22)\n      RETURNING id\n    ","timestamp":"2025-11-05T13:32:49.290Z"}
{"level":"info","message":"POST /api/customers/add 200 18.769 ms","timestamp":"2025-11-05T13:32:49.301Z"}
{"duration":9,"level":"info","message":"db-query","rows":9,"text":"\n    SELECT \n      c.*,\n      COALESCE(\n        JSON_AGG(\n          JSON_BUILD_OBJECT(\n            'id', d.driver_id,\n            'username', d.driver_username,\n            'name', d.driver_name\n          )\n        ) FILTER (WHERE d.driver_id IS NOT NULL),\n        '[]'\n      ) AS restricted_drivers\n    FROM customers c\n    LEFT JOIN customer_restricted_drivers d ON c.id = d.customer_id\n    WHERE c.blacklist = $1\n    GROUP BY c.id\n    ORDER BY c.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-11-05T13:32:52.891Z"}
{"duration":91,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM customers c\n    WHERE c.blacklist = $1;\n  ","timestamp":"2025-11-05T13:32:52.973Z"}
{"level":"info","message":"GET /api/customers/get?&blacklist=false&limit=20&name=&mobile=&telephone=&email=&address1= 200 91.400 ms","timestamp":"2025-11-05T13:32:52.974Z"}
{"duration":86,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T13:34:17.328Z"}
{"level":"info","message":"GET /api/location-types 200 87.342 ms","timestamp":"2025-11-05T13:34:17.329Z"}
{"duration":63,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T14:34:17.316Z"}
{"level":"info","message":"GET /api/location-types 200 64.573 ms","timestamp":"2025-11-05T14:34:17.318Z"}
{"duration":63,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T15:34:17.342Z"}
{"level":"info","message":"GET /api/location-types 200 66.912 ms","timestamp":"2025-11-05T15:34:17.346Z"}
{"duration":61,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T16:34:17.337Z"}
{"level":"info","message":"GET /api/location-types 200 62.729 ms","timestamp":"2025-11-05T16:34:17.339Z"}
{"duration":65,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-11-05T17:34:17.359Z"}
{"level":"info","message":"GET /api/location-types 200 68.530 ms","timestamp":"2025-11-05T17:34:17.363Z"}
