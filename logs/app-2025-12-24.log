{"duration":503,"level":"info","message":"db-query","rows":1,"text":"SELECT \n        t.id,\n        t.template_type_id,\n        t.name,\n        t.subject,\n        t.content,\n        t.body,\n        tt.id as template_type_id,\n        tt.name as template_type_name\n       FROM templates t\n       JOIN template_types tt ON t.template_type_id = tt.id\n       WHERE t.id = $1","timestamp":"2025-12-24T11:43:57.520Z"}
{"level":"info","message":"GET /api/templates/template_setting?id=16 200 525.543 ms","timestamp":"2025-12-24T11:43:57.558Z"}
{"duration":1606,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-12-24T11:44:02.607Z"}
{"level":"info","message":"GET /api/location-types 200 1622.181 ms","timestamp":"2025-12-24T11:44:02.624Z"}
{"duration":1633,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-12-24T11:44:02.629Z"}
{"level":"info","message":"GET /api/location-types 200 1635.767 ms","timestamp":"2025-12-24T11:44:02.631Z"}
{"duration":79,"level":"info","message":"db-query","rows":9,"text":"SELECT id, name \n       FROM templates \n       WHERE template_type_id = $1\n       ORDER BY id ASC","timestamp":"2025-12-24T12:10:29.916Z"}
{"level":"info","message":"GET /api/templates/get_templates_by_types?template_type_id=2 200 83.690 ms","timestamp":"2025-12-24T12:10:29.918Z"}
{"duration":6,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-12-24T12:37:08.537Z"}
{"level":"info","message":"GET /api/location-types 200 11.721 ms","timestamp":"2025-12-24T12:37:08.543Z"}
{"duration":61,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-12-24T12:37:08.593Z"}
{"level":"info","message":"GET /api/location-types 200 61.881 ms","timestamp":"2025-12-24T12:37:08.595Z"}
{"duration":9,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-12-24T12:37:23.009Z"}
{"level":"info","message":"GET /api/location-types 200 19.390 ms","timestamp":"2025-12-24T12:37:23.019Z"}
{"duration":66,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-12-24T12:37:23.070Z"}
{"level":"info","message":"GET /api/location-types 200 67.548 ms","timestamp":"2025-12-24T12:37:23.072Z"}
{"duration":98,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-12-24T13:36:56.779Z"}
{"duration":111,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM drivers d\n    LEFT JOIN subsidiaries s ON s.id = d.subsidiary_id\n    LEFT JOIN vehicles v ON v.id = d.vehicle_id\n    LEFT JOIN vehicle_types vt_v ON vt_v.id = v.vehicle_type_id\n    LEFT JOIN company_vehicles cv ON cv.id = d.company_vehicle_id\n    LEFT JOIN vehicle_types vt_cv ON vt_cv.id = cv.vehicle_type_id\n    WHERE d.active = $1;\n  ","timestamp":"2025-12-24T13:36:56.787Z"}
{"duration":6,"level":"info","message":"db-query","rows":10,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-12-24T13:36:56.792Z"}
{"level":"info","message":"GET /api/zones/get 200 113.541 ms","timestamp":"2025-12-24T13:36:56.794Z"}
{"duration":10,"level":"info","message":"db-query","rows":2,"text":"\n    SELECT \n      d.*,\n      s.name AS subsidiary_name,\n      CASE \n        WHEN d.use_company_vehicle = true THEN\n          json_build_object(\n            'vehicle_number', cv.vehicle_number,\n            'make', cv.make,\n            'model', cv.model,\n            'color', cv.color,\n            'end_date', cv.end_date,\n            'vehicle_type', json_build_object(\n              'id', vt_cv.id,\n              'name', vt_cv.name,\n              'passengers', vt_cv.passengers,\n              'luggages', vt_cv.luggages,\n              'driver_waiting_charges', vt_cv.driver_waiting_charges\n            )\n          )\n        ELSE\n          json_build_object(\n            'vehicle_number', v.vehicle_number,\n            'make', v.make,\n            'model', v.model,\n            'color', v.color,\n            'end_date', v.end_date,\n            'vehicle_type', json_build_object(\n              'id', vt_v.id,\n              'name', vt_v.name,\n              'passengers', vt_v.passengers,\n              'luggages', vt_v.luggages,\n              'driver_waiting_charges', vt_v.driver_waiting_charges\n            )\n          )\n      END AS vehicle\n    FROM drivers d\n    LEFT JOIN subsidiaries s ON s.id = d.subsidiary_id\n    LEFT JOIN vehicles v ON v.id = d.vehicle_id\n    LEFT JOIN vehicle_types vt_v ON vt_v.id = v.vehicle_type_id\n    LEFT JOIN company_vehicles cv ON cv.id = d.company_vehicle_id\n    LEFT JOIN vehicle_types vt_cv ON vt_cv.id = cv.vehicle_type_id\n    WHERE d.active = $1\n    ORDER BY d.id DESC\n    LIMIT $2 OFFSET $3;\n  ","timestamp":"2025-12-24T13:36:56.798Z"}
{"level":"info","message":"GET /api/drivers/get 200 127.306 ms","timestamp":"2025-12-24T13:36:56.801Z"}
{"duration":108,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-12-24T13:36:56.808Z"}
{"level":"info","message":"GET /api/location-types 200 110.419 ms","timestamp":"2025-12-24T13:36:56.811Z"}
{"duration":139,"level":"info","message":"db-query","rows":14,"text":"SELECT * FROM booking_statuses ORDER BY id ASC","timestamp":"2025-12-24T13:36:56.824Z"}
{"duration":3,"level":"info","message":"db-query","rows":2,"text":"SELECT * FROM booking_types ORDER BY id ASC","timestamp":"2025-12-24T13:36:56.827Z"}
{"duration":2,"level":"info","message":"db-query","rows":3,"text":"SELECT * FROM journey_types ORDER BY id ASC","timestamp":"2025-12-24T13:36:56.830Z"}
{"duration":132,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-12-24T13:36:56.832Z"}
{"duration":2,"level":"info","message":"db-query","rows":10,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-12-24T13:36:56.835Z"}
{"level":"info","message":"GET /api/zones/get 200 135.649 ms","timestamp":"2025-12-24T13:36:56.836Z"}
{"duration":6,"level":"info","message":"db-query","rows":3,"text":"SELECT * FROM payment_statuses ORDER BY id ASC","timestamp":"2025-12-24T13:36:56.837Z"}
{"level":"info","message":"GET /api/locationtype/zone 200 152.655 ms","timestamp":"2025-12-24T13:36:56.840Z"}
{"duration":4,"level":"info","message":"db-query","rows":4,"text":"SELECT * FROM payment_types ORDER BY id ASC","timestamp":"2025-12-24T13:36:56.842Z"}
{"duration":3,"level":"info","message":"db-query","rows":4,"text":"SELECT * FROM vehicle_types ORDER BY id ASC","timestamp":"2025-12-24T13:36:56.845Z"}
{"duration":2,"level":"info","message":"db-query","rows":8,"text":"SELECT id, background_color, foreground_color, name FROM subsidiaries ORDER BY id ASC","timestamp":"2025-12-24T13:36:56.848Z"}
{"duration":3,"level":"info","message":"db-query","rows":1,"text":"SELECT id, username, name, email FROM drivers WHERE session_status = $1 AND active = $2 ORDER BY id ASC","timestamp":"2025-12-24T13:36:56.851Z"}
{"duration":15,"level":"info","message":"db-query","rows":8,"text":"\n      SELECT\n        bt.id,\n        bt.booking_tabs,\n        CASE bt.id\n          WHEN 1 THEN (\n            SELECT COUNT(*) FROM bookings \n            WHERE DATE(pickup_date) = CURRENT_DATE \n            AND booking_status_id = 1\n          )\n          WHEN 2 THEN (\n            SELECT COUNT(*) FROM bookings \n            WHERE DATE(pickup_date) > CURRENT_DATE\n          )\n          WHEN 3 THEN (\n            SELECT COUNT(*) FROM bookings \n            WHERE booking_status_id != 11 AND booking_status_id != 1\n          )\n          WHEN 4 THEN (\n            SELECT COUNT(*) FROM bookings \n            WHERE booking_status_id = 11\n          )\n          WHEN 5 THEN (\n            SELECT COUNT(*) FROM bookings \n            WHERE quoted = true\n          )\n          WHEN 6 THEN (\n            SELECT COUNT(*) FROM bookings \n            WHERE booking_source = 'ivr'\n          )\n          WHEN 7 THEN (\n            SELECT COUNT(*) FROM bookings \n            WHERE booking_source = 'web'\n          )\n          WHEN 8 THEN (\n            SELECT COUNT(*) FROM bookings \n            WHERE booking_source = 'app'\n          )\n        END::int AS booking_count\n      FROM booking_tabs bt\n      ORDER BY bt.id ASC\n    ","timestamp":"2025-12-24T13:36:56.867Z"}
{"duration":3,"level":"info","message":"db-query","rows":3,"text":"SELECT \n      f.*, \n      vt.name AS vehicle_type_name, \n      vt.minimum_fares AS vehicle_minimum_fare\n        FROM fare_configurations f\n          LEFT JOIN vehicle_types vt ON vt.id = f.vehicle_type_id\n        ORDER BY id ASC","timestamp":"2025-12-24T13:36:56.872Z"}
{"duration":4,"level":"info","message":"db-query","rows":7,"text":"SELECT \n    f.*,\n    vt.name AS vehicle_type_name,\n    lf.name AS from_location_name,\n    lt.name AS to_location_name\n      FROM fixed_fares f\n        JOIN vehicle_types vt \n          ON f.vehicle_type_id = vt.id\n        JOIN location_types lf \n           ON f.from_location_id = lf.id\n        JOIN location_types lt \n          ON f.to_location_id = lt.id\n      ORDER BY f.id ASC","timestamp":"2025-12-24T13:36:56.877Z"}
{"duration":4,"level":"info","message":"db-query","rows":9,"text":"SELECT \n        pf.*, \n        vt.name AS vehicle_type_name,\n        p1.id AS pickup_plot_id, p1.name AS pickup_plot_name,\n        p2.id AS dropoff_plot_id, p2.name AS dropoff_plot_name\n      FROM plot_fares pf\n      JOIN vehicle_types vt ON vt.id = pf.vehicle_type_id\n      JOIN zones p1 ON p1.id = pf.pickup_plot_id\n      JOIN zones p2 ON p2.id = pf.dropoff_plot_id\n      ORDER BY pf.id ASC","timestamp":"2025-12-24T13:36:56.882Z"}
{"duration":3,"level":"info","message":"db-query","rows":3,"text":" SELECT fbv.*, row_to_json(vt) as vehicle_type\n    FROM fare_by_vehicles fbv\n    LEFT JOIN vehicle_types vt ON fbv.vehicle_type_id = vt.id\n    ORDER BY fbv.id ASC","timestamp":"2025-12-24T13:36:56.886Z"}
{"duration":4,"level":"info","message":"db-query","rows":22,"text":" SELECT l.*,\n                   to_json(lt) AS location_type\n            FROM locations l\n            LEFT JOIN location_types lt\n              ON lt.id = l.location_type_id\n            WHERE l.location_type_id = 2\n            ORDER BY l.id ASC","timestamp":"2025-12-24T13:36:56.890Z"}
{"level":"info","message":"GET /api/enumerations/get 200 207.796 ms","timestamp":"2025-12-24T13:36:56.891Z"}
{"duration":0,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-12-24T13:36:59.260Z"}
{"duration":21,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM bookings b\n    LEFT JOIN booking_statuses bs ON b.booking_status_id = bs.id\n    LEFT JOIN journey_types jt ON b.journey_type_id = jt.id\n    LEFT JOIN payment_types pt ON b.payment_type_id = pt.id\n    LEFT JOIN accounts a ON b.account_id = a.id\n    LEFT JOIN drivers d ON b.driver_id = d.id\n    LEFT JOIN vehicle_types vt ON b.vehicle_type_id = vt.id\n    \n    WHERE DATE(b.pickup_date) = CURRENT_DATE AND b.booking_status_id = 1\n    \n  \n  ","timestamp":"2025-12-24T13:36:59.279Z"}
{"duration":6,"level":"info","message":"db-query","rows":10,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-12-24T13:36:59.284Z"}
{"level":"info","message":"GET /api/zones/get 304 31.385 ms","timestamp":"2025-12-24T13:36:59.291Z"}
{"duration":26,"level":"info","message":"db-query","rows":0,"text":"\n    \nSELECT \n  b.*,\n\n  json_build_object(\n    'booking_status', bs.booking_status\n  ) AS booking_status,\n\n  json_build_object(\n    'booking_type', bt.booking_type\n  ) AS booking_type,\n\n  json_build_object(\n    'journey_type', jt.journey_type\n  ) AS journey_type,\n\n  json_build_object(\n    'id', s.id,\n    'name', s.name,\n    'telephone_number', s.telephone_number\n  ) AS subsidiary,\n\n  json_build_object(\n    'name', vt.name,\n    'background_color', vt.background_color,\n    'foreground_color', vt.foreground_color\n  ) AS vehicle_type,\n\n  json_build_object(\n    'id', pt.id,\n    'name', pt.name,\n    'background_color', pt.background_color,\n    'foreground_color', pt.foreground_color\n  ) AS payment_type,\n\n  json_build_object(\n    'id', a.id,\n    'name', a.name,\n    'background_color', a.background_color,\n    'foreground_color', a.foreground_color,\n    'has_vat', a.has_vat,\n    'bank_information', a.bank_information,\n    'fare_controller', a.fare_controller,\n    'account_fees_type', a.account_fees_type,\n    'account_fees', a.account_fees,\n    'account_fees_vat', a.account_fees_vat\n  ) AS account,\n\n  json_build_object(\n    'id', d.id,\n    'username', d.username,\n    'name', d.name,\n    'mobile_device_id', d.mobile_device_id,\n    'phc_vehicle_number', d.phc_vehicle_number,\n    'phc_driver_number', d.phc_driver_number,\n    'vehicle_id', d.vehicle_id,\n    'driver_commission', d.driver_commission,\n    'session_status', d.session_status,\n    'vehicle', json_build_object(\n        'make', v.make,\n        'model', v.model,\n        'color', v.color,\n        'vehicle_number', v.vehicle_number\n    )\n  ) AS driver,\n\n  json_build_object(\n    'door_number', c.door_number,\n    'address1', c.address1,\n    'address2', c.address2,\n    'blacklist', c.blacklist\n  ) AS customer,\n\n  json_build_object(\n    'username', e.username,\n    'role_id', e.role_id\n  ) AS employee\n\nFROM bookings b\nLEFT JOIN booking_statuses bs ON b.booking_status_id = bs.id\nLEFT JOIN booking_types bt ON b.booking_type_id = bt.id\nLEFT JOIN journey_types jt ON b.journey_type_id = jt.id\nLEFT JOIN subsidiaries s ON b.subsidiary_id = s.id\nLEFT JOIN vehicle_types vt ON b.vehicle_type_id = vt.id\nLEFT JOIN payment_types pt ON b.payment_type_id = pt.id\nLEFT JOIN accounts a ON b.account_id = a.id\nLEFT JOIN drivers d ON b.driver_id = d.id\nLEFT JOIN vehicles v ON d.vehicle_id = v.id\nLEFT JOIN customers c ON b.customer_id = c.id\nLEFT JOIN employees e ON b.employee_id = e.id\n\n    \n    WHERE DATE(b.pickup_date) = CURRENT_DATE AND b.booking_status_id = 1\n    \n  \n    ORDER BY b.id DESC\n    OFFSET $1 LIMIT $2\n  ","timestamp":"2025-12-24T13:36:59.309Z"}
{"level":"info","message":"GET /api/bookings/getbytabs/1 200 56.966 ms","timestamp":"2025-12-24T13:36:59.314Z"}
{"duration":2,"level":"info","message":"db-query","rows":1,"text":"\n    SELECT COUNT(*) AS total\n    FROM zones z\n    ;\n  ","timestamp":"2025-12-24T13:37:00.362Z"}
{"duration":2,"level":"info","message":"db-query","rows":10,"text":"\n    SELECT \n      z.id,\n      z.name,\n      z.secondary_name,\n      z.type,\n      z.category,\n      z.vertices,\n      z.base,\n      z.overlay,\n      z.created_at,\n      z.updated_at\n    FROM zones z\n    \n    ORDER BY z.id ASC\n    LIMIT $1 OFFSET $2;\n  ","timestamp":"2025-12-24T13:37:00.373Z"}
{"level":"info","message":"GET /api/zones/get 304 18.135 ms","timestamp":"2025-12-24T13:37:00.379Z"}
{"duration":62,"level":"info","message":"db-query","rows":26,"text":"SELECT * FROM location_types","timestamp":"2025-12-24T13:37:22.393Z"}
{"level":"info","message":"GET /api/location-types 200 63.114 ms","timestamp":"2025-12-24T13:37:22.394Z"}
